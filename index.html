<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nomad Maps</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <style>
        /* Estilos customizados para os novos marcadores SEM BORDAS */
        .fullon-marker {
            background-color: #FF6B6B;
        }
        
        .prog-marker {
            background-color: #4ECDC4;
        }
        
        .forest-marker {
            background-color: #96CEB4;
        }
        
        .darkpsy-marker {
            background-color: #6A0DAD;
        }
        
        .core-marker {
            background-color: #FFEAA7;
        }
        
        .hitech-marker {
            background-color: #FFA500;
        }
        
        .night-marker {
            background-color: #2C3E50;
        }
        
        .goa-marker {
            background-color: #E74C3C;
        }
        
        .default-marker {
            background-color: #95A5A6;
        }

        /* Resto do CSS permanece igual */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #8a2be2;
            --secondary: #00ffff;
            --accent: #ff00ff;
            --dark: #0a0a1a;
            --light: #f0f8ff;
            --neon-glow: 0 0 10px currentColor, 0 0 20px currentColor, 0 0 30px currentColor;
        }

        body {
            background-color: var(--dark);
            color: var(--light);
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(138, 43, 226, 0.15) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(0, 255, 255, 0.15) 0%, transparent 20%),
                radial-gradient(circle at 50% 50%, rgba(255, 0, 255, 0.1) 0%, transparent 30%);
        }

        #psychedelic-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.3;
        }

        header {
            background: linear-gradient(135deg, rgba(10, 10, 26, 0.9) 0%, rgba(138, 43, 226, 0.7) 100%);
            backdrop-filter: blur(10px);
            padding: 10px 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid var(--secondary);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .header-content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .logo {
            max-width: 400px;
            filter: drop-shadow(0 0 10px rgba(138, 43, 226, 0.7));
            transition: transform 0.3s ease;
            margin-bottom: 10px;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        nav ul {
            display: flex;
            list-style: none;
            flex-wrap: wrap;
            justify-content: center;
        }

        nav ul li {
            margin: 0 8px;
        }

        nav ul li a {
            color: var(--light);
            text-decoration: none;
            font-weight: 600;
            padding: 5px 10px;
            border-radius: 20px;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        nav ul li a:hover {
            color: var(--secondary);
            box-shadow: 0 0 10px var(--secondary);
        }

        .mobile-menu {
            display: none;
            font-size: 24px;
            color: var(--light);
            cursor: pointer;
        }

        .hero {
            position: relative;
            height: 30vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 50%, rgba(138, 43, 226, 0.4) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 255, 255, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(255, 0, 255, 0.3) 0%, transparent 50%);
            z-index: -1;
        }

        .hero-content {
            max-width: 800px;
            padding: 20px;
            z-index: 1;
        }

        .hero-buttons {
            margin-bottom: 20px;
        }

        .hero p {
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .cta-button {
            display: inline-block;
            padding: 12px 30px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(138, 43, 226, 0.4);
            margin: 5px;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(138, 43, 226, 0.6);
        }

        .cta-secondary {
            background: linear-gradient(45deg, var(--secondary), var(--primary));
        }

        section {
            padding: 60px 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        .section-title h2 {
            font-size: 2.2rem;
            display: inline-block;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            position: relative;
        }

        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
            border-radius: 3px;
        }

        .map-section {
            background: rgba(10, 10, 30, 0.8);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid rgba(0, 255, 255, 0.3);
        }

        .map-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            background: rgba(20, 20, 40, 0.7);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(138, 43, 226, 0.3);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(138, 43, 226, 0.4);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: var(--secondary);
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .map-controls {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }

        @media (max-width: 768px) {
            .map-controls {
                grid-template-columns: 1fr;
            }
        }

        .filters {
            background: rgba(20, 20, 40, 0.7);
            border-radius: 10px;
            padding: 20px;
            border: 1px solid rgba(255, 0, 255, 0.3);
        }

        .filter-group {
            margin-bottom: 20px;
        }

        .filter-group h3 {
            color: var(--secondary);
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .filter-btn {
            padding: 8px 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            color: var(--light);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .filter-btn:hover, .filter-btn.active {
            background: var(--secondary);
            color: var(--dark);
            border-color: var(--secondary);
        }

        .search-box {
            width: 100%;
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            color: var(--light);
            font-size: 1rem;
            margin-bottom: 15px;
        }

        .search-box::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        #interactive-map {
            height: 500px;
            width: 100%;
            border-radius: 15px;
            border: 2px solid var(--secondary);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
            overflow: hidden;
        }

        /* Estilos customizados para o Leaflet */
        .leaflet-container {
            background: #1a1a2e !important;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .leaflet-popup-content-wrapper {
            background: rgba(20, 20, 40, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 2px solid var(--secondary);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.4);
            max-width: 400px;
        }

        .leaflet-popup-content {
            color: var(--light);
            margin: 0;
            width: 100% !important;
        }

        .leaflet-popup-tip {
            background: var(--secondary);
        }

        .leaflet-control-zoom a {
            background: rgba(20, 20, 40, 0.9) !important;
            color: var(--secondary) !important;
            border: 1px solid var(--secondary) !important;
        }

        .leaflet-control-zoom a:hover {
            background: var(--secondary) !important;
            color: var(--dark) !important;
        }

        .leaflet-control-attribution {
            background: rgba(20, 20, 40, 0.8) !important;
            color: var(--light) !important;
            font-size: 0.8rem;
        }

        .leaflet-control-attribution a {
            color: var(--secondary) !important;
        }

        .custom-marker {
            transition: all 0.3s ease;
        }

        .custom-marker:hover {
            transform: scale(1.2);
            filter: drop-shadow(0 0 8px currentColor);
        }

        /* Estilos para o popup personalizado */
        .festival-popup {
            padding: 0;
            width: 380px;
        }

        .popup-header {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            padding: 20px;
            border-radius: 13px 13px 0 0;
            text-align: center;
            position: relative;
        }

        .popup-header h3 {
            margin: 0;
            color: white;
            font-size: 1.3rem;
            font-weight: bold;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }

        .status-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            text-transform: uppercase;
        }

        .status-active {
            background: #00ff00;
            color: #000;
        }

        .status-inactive {
            background: #ff4444;
            color: white;
        }

        .popup-content {
            padding: 20px;
        }

        .festival-info {
            display: grid;
            gap: 12px;
            margin-bottom: 20px;
        }

        .info-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }

        .info-icon {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .info-text {
            flex: 1;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .flyer-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }

        .flyer-section h4 {
            color: var(--secondary);
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .flyer-placeholder {
            width: 100%;
            height: 200px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
            text-align: center;
            padding: 20px;
        }

        .flyer-placeholder:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: var(--secondary);
        }

        .legends {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            .legends {
                grid-template-columns: 1fr;
            }
        }

        .legend {
            background: rgba(10, 10, 26, 0.9);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid var(--secondary);
        }

        .legend h4 {
            color: var(--secondary);
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .legend-items {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 5px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
            font-size: 0.8rem;
        }

        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .newsletter {
            background: rgba(20, 20, 40, 0.7);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            border: 1px solid rgba(255, 0, 255, 0.3);
            text-align: center;
        }

        .newsletter h3 {
            color: var(--accent);
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .newsletter p {
            margin-bottom: 20px;
            opacity: 0.8;
        }

        .newsletter-form {
            display: flex;
            gap: 10px;
            justify-content: center;
            max-width: 500px;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .newsletter-form {
                flex-direction: column;
            }
        }

        .newsletter-input {
            flex: 1;
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            color: var(--light);
            font-size: 1rem;
        }

        .packages {
            background: rgba(10, 10, 30, 0.7);
            border-radius: 15px;
            padding: 40px;
            margin: 30px 0;
            border: 1px solid rgba(0, 255, 255, 0.3);
        }

        .packages-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }

        .package-card {
            background: rgba(20, 20, 40, 0.7);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(138, 43, 226, 0.3);
            transition: all 0.3s ease;
            text-align: center;
        }

        .package-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(138, 43, 226, 0.4);
            border-color: var(--secondary);
        }

        .package-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .package-card h4 {
            color: var(--secondary);
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .package-card p {
            margin-bottom: 20px;
            opacity: 0.8;
        }

        .package-features {
            list-style: none;
            margin-bottom: 20px;
        }

        .package-features li {
            margin-bottom: 8px;
            padding-left: 20px;
            position: relative;
        }

        .package-features li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: var(--secondary);
        }

        .geo-analysis {
            background: rgba(10, 10, 30, 0.7);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid rgba(0, 255, 255, 0.3);
        }

        .geo-analysis h3 {
            color: var(--secondary);
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .geo-analysis p {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .map-container {
            width: 100%;
            height: 350px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            overflow: hidden;
            margin-top: 15px;
            border: 1px solid rgba(138, 43, 226, 0.5);
            position: relative;
        }

        .map-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(45deg, rgba(138, 43, 226, 0.1), rgba(0, 255, 255, 0.1));
            color: var(--secondary);
            font-size: 1.1rem;
        }

        .thematic-maps {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
        }

        .map-card {
            background: rgba(20, 20, 40, 0.7);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 0, 255, 0.3);
        }

        .map-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 20px rgba(255, 0, 255, 0.4);
            border-color: var(--accent);
        }

        .map-image {
            width: 100%;
            height: 180px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            background-size: cover;
            background-position: center;
        }

        .map-info {
            padding: 18px;
        }

        .map-info h3 {
            color: var(--accent);
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .map-info p {
            line-height: 1.5;
            font-size: 0.9rem;
        }

        .thematic-map-large {
            width: 100%;
            margin: 20px 0;
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid var(--secondary);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
        }

        .thematic-map-large img {
            width: 100%;
            height: auto;
            display: block;
        }

        .map-description {
            background: rgba(20, 20, 40, 0.7);
            padding: 20px;
            border-radius: 0 0 15px 15px;
        }

        .map-description h4 {
            color: var(--secondary);
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .map-description p {
            line-height: 1.6;
            margin-bottom: 10px;
        }

        footer {
            background: linear-gradient(135deg, rgba(10, 10, 26, 0.9) 0%, rgba(138, 43, 226, 0.7) 100%);
            padding: 40px 0 15px;
            border-top: 1px solid var(--secondary);
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            margin-bottom: 25px;
        }

        .footer-column h3 {
            color: var(--secondary);
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 8px;
        }

        .footer-column ul li a {
            color: var(--light);
            text-decoration: none;
            transition: color 0.3s ease;
            font-size: 0.9rem;
        }

        .footer-column ul li a:hover {
            color: var(--secondary);
        }

        .social-links {
            display: flex;
            gap: 12px;
        }

        .social-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
            transition: all 0.3s ease;
        }

        .social-links a:hover {
            background: var(--secondary);
            color: var(--dark);
            transform: translateY(-3px);
        }

        .copyright {
            text-align: center;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
        }

        @keyframes pulse {
            0% { text-shadow: 0 0 15px rgba(138, 43, 226, 0.5); }
            100% { text-shadow: 0 0 25px rgba(138, 43, 226, 0.8), 0 0 35px rgba(0, 255, 255, 0.6); }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
            }
            .logo {
                max-width: 300px;
                margin-bottom: 10px;
            }
            nav ul {
                flex-direction: column;
                align-items: center;
            }
            nav ul li {
                margin: 8px 0;
            }
            .mobile-menu {
                display: block;
                position: absolute;
                top: 15px;
                right: 15px;
            }
            .section-title h2 {
                font-size: 1.8rem;
            }
            .map-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <canvas id="psychedelic-bg"></canvas>

    <header>
        <div class="container">
            <div class="header-content">
                <img src="<!-- Mude para caminho relativo -->
<img src="assets/Imagens/visual identity/Nomad_Logo.png" alt="Nomad Maps Logo" class="logo">" alt="Nomad Maps Logo" class="logo">
                <nav>
                    <ul>
                        <li><a href="#home">In√≠cio</a></li>
                        <li><a href="#produtos">Produtos Exclusivos</a></li>
                        <li><a href="#mapa">Mapa Interativo</a></li>
                        <li><a href="#galeria">Galeria de Mapas</a></li>
                        <li><a href="#data-trance">Data-Trance</a></li>
                        <li><a href="#cadastro">Cadastre-se</a></li>
                        <li><a href="#contact">Contato</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <section class="hero" id="home">
        <div class="hero-content">
            <div class="hero-buttons">
                <a href="#mapa" class="cta-button">Explorar Mapa Interativo</a>
                <a href="#produtos" class="cta-button cta-secondary">Ver Produtos</a>
            </div>
            <p>Descubra os melhores festivais de psytrance ao redor do mundo</p>
        </div>
    </section>

    <section id="mapa">
        <div class="container">
            <div class="section-title">
                <h2>Mapa Interativo de Festivais</h2>
            </div>
            
            <div class="geo-analysis">
                <p>Mapa-mundi din√¢mico com geolocaliza√ß√£o de festivais, filtros por nome, pa√≠s, continente e subvertentes. Camadas anal√≠ticas integradas, o data-trance, com sobreposi√ß√£o de dados geogr√°ficos com informa√ß√µes relevantes sobre os festivais, como evolu√ß√£o hist√≥rica, mapas de fluxos, mapas de calor, rastreamento de fluxos transnacionais, etc.</p>
            </div>
            
            <div class="map-stats">
                <div class="stat-card">
                    <div class="stat-number" id="total-festivals">0</div>
                    <div class="stat-label">Total de Festivais</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="active-festivals">0</div>
                    <div class="stat-label">Festivais Ativos</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="countries-count">0</div>
                    <div class="stat-label">Pa√≠ses</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="continents-count">0</div>
                    <div class="stat-label">Continentes</div>
                </div>
            </div>

            <div class="map-section">
                <div class="map-controls">
                    <div class="filters">
                        <input type="text" id="search-input" class="search-box" placeholder="üîç Buscar festival...">
                        
                        <div class="filter-group">
                            <h3>üåç Continente</h3>
                            <div class="filter-options" id="continent-filters"></div>
                        </div>

                        <div class="filter-group">
                            <h3>üéµ Subvertentes</h3>
                            <div class="filter-options" id="genre-filters"></div>
                        </div>

                        <div class="filter-group">
                            <h3>üìä Status</h3>
                            <div class="filter-options" id="status-filters">
                                <button class="filter-btn active" data-status="all">Todos</button>
                                <button class="filter-btn" data-status="Ativo">Ativos</button>
                                <button class="filter-btn" data-status="Inativo">Inativos</button>
                            </div>
                        </div>

                        <button id="reset-filters" class="filter-btn" style="width: 100%; margin-top: 10px; background: var(--accent);">
                            üîÑ Limpar Filtros
                        </button>
                    </div>

                    <div>
                        <div id="interactive-map"></div>
                        <div class="legends">
                            <div class="legend">
                                <h4>Continentes</h4>
                                <div class="legend-items">
                                    <div class="legend-item"><div class="legend-color" style="background-color: #FF6B6B;"></div><span>Am√©rica do Sul</span></div>
                                    <div class="legend-item"><div class="legend-color" style="background-color: #4ECDC4;"></div><span>Am√©rica do Norte</span></div>
                                    <div class="legend-item"><div class="legend-color" style="background-color: #45B7D1;"></div><span>Am√©rica Central</span></div>
                                    <div class="legend-item"><div class="legend-color" style="background-color: #96CEB4;"></div><span>Europa</span></div>
                                    <div class="legend-item"><div class="legend-color" style="background-color: #FFEAA7;"></div><span>√Åsia</span></div>
                                    <div class="legend-item"><div class="legend-color" style="background-color: #DDA0DD;"></div><span>√Åfrica</span></div>
                                    <div class="legend-item"><div class="legend-color" style="background-color: #98D8C8;"></div><span>Oceania</span></div>
                                </div>
                            </div>
                            <div class="legend">
                                <h4>Subvertentes</h4>
                                <div class="legend-items">
                                    <div class="legend-item"><div class="legend-color" style="background-color: #FF6B6B;"></div><span>Full On</span></div>
                                    <div class="legend-item"><div class="legend-color" style="background-color: #4ECDC4;"></div><span>Prog</span></div>
                                    <div class="legend-item"><div class="legend-color" style="background-color: #96CEB4;"></div><span>Forest</span></div>
                                    <div class="legend-item"><div class="legend-color" style="background-color: #6A0DAD;"></div><span>Darkpsy</span></div>
                                    <div class="legend-item"><div class="legend-color" style="background-color: #FFEAA7;"></div><span>Core</span></div>
                                    <div class="legend-item"><div class="legend-color" style="background-color: #FFA500;"></div><span>Hitech</span></div>
                                    <div class="legend-item"><div class="legend-color" style="background-color: #2C3E50;"></div><span>Night</span></div>
                                    <div class="legend-item"><div class="legend-color" style="background-color: #E74C3C;"></div><span>Goa</span></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="produtos">
        <div class="container">
            <div class="section-title">
                <h2>Produtos Exclusivos</h2>
            </div>
            <div class="packages">
                <div class="packages-grid">
                    <div class="package-card">
                        <div class="package-icon">üó∫Ô∏è</div>
                        <h4>Mapas Personalizados</h4>
                        <p>Mapas detalhados com rotas, pontos de interesse e informa√ß√µes exclusivas sobre festivais.</p>
                        <ul class="package-features">
                            <li>Rotas otimizadas</li>
                            <li>Pontos de interesse</li>
                            <li>Informa√ß√µes exclusivas</li>
                            <li>Atualiza√ß√µes em tempo real</li>
                        </ul>
                        <a href="#" class="cta-button">Saiba Mais</a>
                    </div>
                    <div class="package-card">
                        <div class="package-icon">üé™</div>
                        <h4>Pacotes de Festivais</h4>
                        <p>Experi√™ncias completas incluindo ingressos, hospedagem, transporte e guias especializados.</p>
                        <ul class="package-features">
                            <li>Ingressos garantidos</li>
                            <li>Hospedagem selecionada</li>
                            <li>Transporte organizado</li>
                            <li>Guias especializados</li>
                        </ul>
                        <a href="#" class="cta-button">Ver Pacotes</a>
                    </div>
                    <div class="package-card">
                        <div class="package-icon">üìä</div>
                        <h4>An√°lises Exclusivas</h4>
                        <p>Relat√≥rios detalhados com dados sobre tend√™ncias, p√∫blico e caracter√≠sticas dos festivais.</p>
                        <ul class="package-features">
                            <li>An√°lises de tend√™ncias</li>
                            <li>Dados demogr√°ficos</li>
                            <li>Relat√≥rios personalizados</li>
                            <li>Insights exclusivos</li>
                        </ul>
                        <a href="#" class="cta-button">Conhecer</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="galeria">
        <div class="container">
            <div class="section-title">
                <h2>Galeria de Mapas Tem√°ticos</h2>
            </div>
            
            <div class="geo-analysis">
                <h3>Mapa Mundial - Proje√ß√£o de Robinson</h3>
                <p>Distribui√ß√£o global dos festivais de psytrance em proje√ß√£o Robinson, mostrando a concentra√ß√£o de eventos por continente e regi√£o.</p>
                <div class="thematic-map-large">
                    <img src="https://github.com/ramadageografia/nomad_maps/blob/main/assets/Imagens/mapas_tematicos/robinson.png?raw=true" alt="Mapa Mundial - Proje√ß√£o de Robinson">
                    <div class="map-description">
                        <h4>An√°lise Global</h4>
                        <p>Este mapa mostra a distribui√ß√£o mundial dos festivais de psytrance, destacando os principais polos de concentra√ß√£o na Europa, Am√©rica do Sul e √Åsia. A proje√ß√£o Robinson proporciona uma vis√£o equilibrada das dist√¢ncias e √°reas continentais.</p>
                        <p><strong>Principais insights:</strong> Concentra√ß√£o na Europa Central, crescimento na Am√©rica do Sul, e emerg√™ncia de polos na √Åsia.</p>
                    </div>
                </div>
            </div>

            <div class="geo-analysis" style="margin-top: 40px;">
                <h3>Mapa da Am√©rica do Sul</h3>
                <p>Foco na distribui√ß√£o dos festivais de psytrance na Am√©rica do Sul, mostrando os principais pa√≠ses e regi√µes de concentra√ß√£o.</p>
                <div class="thematic-map-large">
                    <img src="https://github.com/ramadageografia/nomad_maps/blob/main/assets/Imagens/mapas_tematicos/1000059085.jpg?raw=true" alt="Mapa da Am√©rica do Sul">
                    <div class="map-description">
                        <h4>An√°lise Regional - Am√©rica do Sul</h4>
                        <p>O mapa destaca a forte presen√ßa do movimento psytrance na Am√©rica do Sul, com Brasil e Argentina como principais polos. Nota-se tamb√©m o crescimento em pa√≠ses como Chile, Peru e Col√¥mbia.</p>
                        <p><strong>Caracter√≠sticas regionais:</strong> Diversidade de subg√™neros, festivais em ambientes naturais, e forte conex√£o com movimentos de contracultura.</p>
                    </div>
                </div>
            </div>

            <div class="thematic-maps" style="margin-top: 40px;">
                <div class="map-card">
                    <div class="map-image" style="background: linear-gradient(45deg, #FF6B6B, #4ECDC4);"></div>
                    <div class="map-info">
                        <h3>Mapa de Densidade</h3>
                        <p>Visualiza√ß√£o da concentra√ß√£o de festivais por regi√£o e per√≠odo do ano.</p>
                    </div>
                </div>
                <div class="map-card">
                    <div class="map-image" style="background: linear-gradient(45deg, #96CEB4, #6A0DAD);"></div>
                    <div class="map-info">
                        <h3>Mapa de Fluxos</h3>
                        <p>Rastreamento de movimentos transnacionais e rotas de artistas.</p>
                    </div>
                </div>
                <div class="map-card">
                    <div class="map-image" style="background: linear-gradient(45deg, #FFEAA7, #FFA500);"></div>
                    <div class="map-info">
                        <h3>Mapa de G√™neros</h3>
                        <p>Distribui√ß√£o geogr√°fica dos diferentes subg√™neros de psytrance.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="data-trance">
        <div class="container">
            <div class="section-title">
                <h2>Data-Trance</h2>
            </div>
            <div class="geo-analysis">
                <h3>An√°lises Avan√ßadas e Visualiza√ß√µes de Dados</h3>
                <p>Nossa plataforma Data-Trance oferece an√°lises aprofundadas sobre o cen√°rio mundial de festivais de psytrance. Utilizamos dados geogr√°ficos, demogr√°ficos e comportamentais para identificar tend√™ncias e oferecer insights valiosos.</p>
                
                <div class="packages-grid">
                    <div class="package-card">
                        <div class="package-icon">üìà</div>
                        <h4>Evolu√ß√£o Temporal</h4>
                        <p>An√°lise da evolu√ß√£o hist√≥rica dos festivais e tend√™ncias ao longo do tempo.</p>
                        <ul class="package-features">
                            <li>Crescimento por d√©cada</li>
                            <li>Tend√™ncias sazonais</li>
                            <li>An√°lise de ciclos</li>
                            <li>Proje√ß√µes futuras</li>
                        </ul>
                    </div>
                    <div class="package-card">
                        <div class="package-icon">üå°Ô∏è</div>
                        <h4>Mapas de Calor</h4>
                        <p>Visualiza√ß√µes de densidade e concentra√ß√£o de eventos por regi√£o.</p>
                        <ul class="package-features">
                            <li>Densidade por continente</li>
                            <li>Concentra√ß√£o regional</li>
                            <li>An√°lise de clusters</li>
                            <li>Hotspots globais</li>
                        </ul>
                    </div>
                    <div class="package-card">
                        <div class="package-icon">üîÑ</div>
                        <h4>An√°lise de Fluxos</h4>
                        <p>Rastreamento de movimentos e conex√µes entre diferentes polos.</p>
                        <ul class="package-features">
                            <li>Rotas de artistas</li>
                            <li>Migra√ß√£o de p√∫blicos</li>
                            <li>Conex√µes transnacionais</li>
                            <li>Redes de influ√™ncia</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="cadastro">
        <div class="container">
            <div class="section-title">
                <h2>Cadastre-se</h2>
            </div>
            <div class="newsletter">
                <h3>Junte-se √† Comunidade Nomad</h3>
                <p>Receba atualiza√ß√µes exclusivas sobre festivais, ofertas especiais e conte√∫dos premium.</p>
                <form class="newsletter-form">
                    <input type="email" class="newsletter-input" placeholder="Seu melhor e-mail" required>
                    <button type="submit" class="cta-button">Cadastrar</button>
                </form>
            </div>
        </div>
    </section>

    <section id="contact">
        <div class="container">
            <div class="section-title">
                <h2>Contato</h2>
            </div>
            <div class="geo-analysis">
                <h3>Entre em Contato</h3>
                <p>Estamos sempre abertos a novas parcerias, sugest√µes e d√∫vidas sobre nossos servi√ßos.</p>
                <p>Envie-nos uma mensagem e responderemos o mais breve poss√≠vel.</p>
                <div style="text-align: center; margin-top: 30px;">
                    <a href="mailto:contato@nomadmaps.com" class="cta-button">Enviar E-mail</a>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Nomad Maps</h3>
                    <ul>
                        <li><a href="#produtos">Produtos</a></li>
                        <li><a href="#mapa">Mapa Interativo</a></li>
                        <li><a href="#galeria">Galeria de Mapas</a></li>
                        <li><a href="#data-trance">Data-Trance</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Recursos</h3>
                    <ul>
                        <li><a href="#cadastro">Cadastre-se</a></li>
                        <li><a href="#contact">Contato</a></li>
                        <li><a href="#">Blog</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Legal</h3>
                    <ul>
                        <li><a href="#">Termos de Uso</a></li>
                        <li><a href="#">Pol√≠tica de Privacidade</a></li>
                        <li><a href="#">Cookies</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Conecte-se</h3>
                    <div class="social-links">
                        <a href="#"><span>FB</span></a>
                        <a href="#"><span>IG</span></a>
                        <a href="#"><span>YT</span></a>
                        <a href="#"><span>TW</span></a>
                    </div>
                </div>
            </div>
            <div class="copyright">
                &copy; 2023 Nomad Maps. Todos os direitos reservados.
            </div>
        </div>
    </footer>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script>
        // Dados COMPLETOS dos 105 festivais
        const festivalsData = [
            {nome: "Nataraja Festival", pais: "Fran√ßa", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 46.0201, lon: 3.7616},
            {nome: "Nature Frequencies", pais: "Alemanha", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: 48.7904, lon: 11.4979},
            {nome: "Alien Safari", pais: "√Åfrica do Sul", continente: "√Åfrica", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: -31.388542, lon: 24.284814},
            {nome: "Indian Spirit", pais: "Alemanha", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 53.2623, lon: 11.4153},
            {nome: "Antaris Project", pais: "Alemanha", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: 52.7388, lon: 12.3821},
            {nome: "Shankra Festival", pais: "Su√≠√ßa", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 46.3439, lon: 9.1011},
            {nome: "Vuuv Festival", pais: "Alemanha", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 52.8625, lon: 12.1538},
            {nome: "Envision Festival", pais: "Costa Rica", continente: "Am√©rica Central", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 10.446698, lon: -83.312888},
            {nome: "Lucidity Festival", pais: "EUA", continente: "Am√©rica do Norte", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 34.4208, lon: -119.6982},
            {nome: "Eclipse Festival", pais: "Canad√°", continente: "Am√©rica do Norte", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 46.8139, lon: -71.208},
            {nome: "Jacund√° Trance Festival", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: -2.548959, lon: -60.145092},
            {nome: "Mundo de Oz", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -23.100547, lon: -45.170907},
            {nome: "High Stage", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Hitech Psytrance", subvertentes: "Hitech, Darkpsy, Core", status: "Ativo", lat: -23.08043, lon: -45.20952},
            {nome: "Hitech Revolution", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Hitech, Darkpsy, Core", status: "Ativo", lat: -23.078685, lon: -45.178715},
            {nome: "Swampy Festival", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -21.060319, lon: -44.845167},
            {nome: "Universo Paralello", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -13.512251, lon: -38.92635},
            {nome: "Undervision Festival", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -28.78656, lon: -52.07779},
            {nome: "Earthdance Festival", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -30.023123, lon: -50.550707},
            {nome: "Zion Festival", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -30.93924, lon: -53.588792},
            {nome: "Festival Terrazul", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -27.256784, lon: -48.775212},
            {nome: "Elementorum Naturae", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Hitech Psytrance", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -23.761119, lon: -53.268706},
            {nome: "Zuvuya Festival", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -15.710742, lon: -47.911257},
            {nome: "Hipn√≥tica Crew", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -16.542452, lon: -49.279106},
            {nome: "Happiness Festival", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: -5.892661, lon: -47.384999},
            {nome: "Inchalla Festival", pais: "Uruguai", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -34.458919, lon: -54.209206},
            {nome: "Arkana Festival", pais: "Per√∫", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -13.454688, lon: -71.948714},
            {nome: "Psycristrance Festival", pais: "M√©xico", continente: "Am√©rica do Norte", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 17.466728, lon: -92.866588},
            {nome: "Winter Solstice Gathering", pais: "M√©xico", continente: "Am√©rica do Norte", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 16.280933, lon: -92.45536},
            {nome: "Totem", pais: "Bol√≠via", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -16.575838, lon: -68.007017},
            {nome: "Hybrid Festival", pais: "Chile", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -36.712002, lon: -72.88202},
            {nome: "Forest Festival", pais: "Equador", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 0.572869, lon: -78.122396},
            {nome: "Chakra Psy Festival", pais: "Argentina", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -34.17276, lon: -58.172867},
            {nome: "Montemapu Festival", pais: "Chile", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: -32.814198, lon: -71.020313},
            {nome: "Fractal Research", pais: "Argentina", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: -32.88964, lon: -61.16462},
            {nome: "Ganesha Trance", pais: "Argentina", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: -41.4750978, lon: -71.213113},
            {nome: "Earthdance Argentina", pais: "Argentina", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: -31.567992, lon: -64.190227},
            {nome: "Origens Gathering", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -29.605478, lon: -50.024575},
            {nome: "Terra Oca", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: -9.094822, lon: -63.898045},
            {nome: "Liquid Sky", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: -8.359513, lon: -35.202517},
            {nome: "Naturaiz", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Darkpsy, Hitech, Core, Forest", status: "Ativo", lat: -23.098494, lon: -45.204391},
            {nome: "Nighters Unity", pais: "Argentina", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: -35.160846, lon: -58.872331},
            {nome: "Pachamama Festival", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -23.245285, lon: -46.392073},
            {nome: "Abrakadabra", pais: "Argentina", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: -34.308013, lon: -58.888094},
            {nome: "Jardim de Oz", pais: "Bol√≠via", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -13.721316, lon: -65.160572},
            {nome: "Adhana Festival", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -25.47658, lon: -48.822487},
            {nome: "Eclipse Festival", pais: "Canad√°", continente: "Am√©rica do Norte", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 49.538639, lon: -105.595987},
            {nome: "Amazonas Andes Festival", pais: "Bol√≠via", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -17.065202, lon: -62.77641},
            {nome: "Ritual Xalpen", pais: "Chile", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -34.371561, lon: -71.154979},
            {nome: "Fractal Festival", pais: "Nam√≠bia", continente: "√Åfrica", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -21.845339, lon: 15.177458},
            {nome: "Hypnophonia", pais: "Marrocos", continente: "√Åfrica", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: 32.692806, lon: -7.578707},
            {nome: "Xylophobia", pais: "Marrocos", continente: "√Åfrica", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: 33.170747, lon: -6.826367},
            {nome: "Transahara Festival", pais: "Marrocos", continente: "√Åfrica", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: 31.457302, lon: -3.40015},
            {nome: "Karacus Maracus", pais: "√çndia", continente: "√Åsia", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 14.986373, lon: 74.064123},
            {nome: "Silvester Magica", pais: "√çndia", continente: "√Åsia", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 31.712368, lon: 77.439124},
            {nome: "Maya Gathering", pais: "Nepal", continente: "√Åsia", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 28.30698, lon: 85.971816},
            {nome: "Maya Mantra", pais: "Nepal", continente: "√Åsia", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: 27.367647, lon: 84.993448},
            {nome: "Arzeia Festival", pais: "Tun√≠sia", continente: "√Åfrica", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: 37.284509, lon: 9.829413},
            {nome: "Boom Festival", pais: "Portugal", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 39.784492, lon: -7.45194},
            {nome: "ZNA Gathering", pais: "Portugal", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Goa, Prog, Night, Forest", status: "Ativo", lat: 39.070486, lon: -8.179916},
            {nome: "Global Tribe", pais: "Espanha", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 37.319755, lon: -6.448378},
            {nome: "Multiverse Festival", pais: "Chile", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: -33.04224, lon: -71.481953},
            {nome: "Quantum Fest", pais: "Chile", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -33.845702, lon: -70.348073},
            {nome: "Makuna Festival", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Darkpsy", subvertentes: "Hitech, Darkpsy, Core", status: "Ativo", lat: -21.104368, lon: -47.848644},
            {nome: "Aluna Ritual", pais: "Col√¥mbia", continente: "Am√©rica do Sul", vertente: "Darkpsy", subvertentes: "Hitech, Darkpsy, Core", status: "Ativo", lat: 11.209893, lon: -73.5259},
            {nome: "Mo.dem Festival", pais: "Cro√°cia", continente: "Europa", vertente: "Darkpsy", subvertentes: "Hitech, Darkpsy, Core", status: "Ativo", lat: 45.216951, lon: 15.471648},
            {nome: "Uforest Festival", pais: "EUA", continente: "Am√©rica do Norte", vertente: "Darkpsy", subvertentes: "Hitech, Darkpsy, Core", status: "Ativo", lat: 34.528943, lon: -118.324689},
            {nome: "Heaven on Earth Festival", pais: "EUA", continente: "Am√©rica do Norte", vertente: "Darkpsy", subvertentes: "Hitech, Darkpsy, Core", status: "Ativo", lat: 39.449545, lon: -121.115488},
            {nome: "Huytaca Ritual", pais: "Venezuela", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 10.044612, lon: -66.753783},
            {nome: "OVNI Invasi√≥n", pais: "Guatemala", continente: "Am√©rica Central", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 15.638839, lon: -89.979085},
            {nome: "Cosmic Convergence", pais: "Guatemala", continente: "Am√©rica Central", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 14.560312, lon: -90.627401},
            {nome: "Texas Eclipse", pais: "EUA", continente: "Am√©rica do Norte", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 30.548318, lon: -98.841636},
            {nome: "Sola Luna Festival", pais: "Tail√¢ndia", continente: "√Åsia", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 9.111928, lon: 99.80451},
            {nome: "Trance Portal Festival", pais: "M√©xico", continente: "Am√©rica do Norte", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 23.916436, lon: -104.822274},
            {nome: "Equinox Festival", pais: "M√©xico", continente: "Am√©rica do Norte", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 19.23673, lon: -96.269526},
            {nome: "Atmosphere Festival", pais: "M√©xico", continente: "Am√©rica do Norte", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 18.916937, lon: -98.994863},
            {nome: "Limitless Festival", pais: "Canad√°", continente: "Am√©rica do Norte", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 47.013977, lon: -72.370865},
            {nome: "Mind Levitation", pais: "Canad√°", continente: "Am√©rica do Norte", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 45.07101, lon: -79.38973},
            {nome: "Tree of Life Festival", pais: "Turquia", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 38.557962, lon: 27.217006},
            {nome: "Hill Top Goa", pais: "√çndia", continente: "√Åsia", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 15.415892, lon: 73.635303},
            {nome: "Shuangda Festival", pais: "China", continente: "√Åsia", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 30.033724, lon: 121.508543},
            {nome: "Ligoor Spirit Festival", pais: "China", continente: "√Åsia", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 30.849691, lon: 104.063824},
            {nome: "Ananta Gathering", pais: "Canad√°", continente: "Am√©rica do Norte", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 51.953908, lon: -85.192186},
            {nome: "Sacred Aeon Festival", pais: "Cambodia", continente: "√Åsia", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 11.122385, lon: 102.947911},
            {nome: "Lost in Paradise", pais: "Nova Zel√¢ndia", continente: "Oceania", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -35.725995, lon: 174.320699},
            {nome: "Invoke Festival", pais: "Inglaterra", continente: "Europa", vertente: "Darkpsy", subvertentes: "Hitech, Darkpsy, Core", status: "Ativo", lat: 53.167294, lon: -0.249981},
            {nome: "Pyramid Festival", pais: "S√©rvia", continente: "Europa", vertente: "Darkpsy", subvertentes: "Hitech, Darkpsy, Core", status: "Ativo", lat: 43.557516, lon: 21.940234},
            {nome: "Pulsar Festival", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Darkpsy", subvertentes: "Hitech, Darkpsy, Core", status: "Ativo", lat: -19.612239, lon: -43.427707},
            {nome: "Insomnia Festival", pais: "Portugal", continente: "Europa", vertente: "Darkpsy", subvertentes: "Hitech, Darkpsy, Core", status: "Ativo", lat: 40.337772, lon: -7.800269},
            {nome: "Terra Inc√≥gnita", pais: "Brasil", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: -31.156741, lon: -51.84757},
            {nome: "Psychedelic Resistance", pais: "Argentina", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -34.792092, lon: -59.05887},
            {nome: "Ethereal Decibel Festival", pais: "Fran√ßa", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 48.536211, lon: -0.999927},
            {nome: "Hadra Trance Festival", pais: "Fran√ßa", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 45.188742, lon: 5.703492},
            {nome: "Free Earth Festival", pais: "Gr√©cia", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 40.720365, lon: 23.709953},
            {nome: "Tribe Gathering", pais: "Panam√°", continente: "Am√©rica Central", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 9.100921, lon: -80.392383},
            {nome: "Midnight Sun Festival", pais: "Noruega", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 58.337636, lon: 7.196158},
            {nome: "Xibalba", pais: "Jap√£o", continente: "√Åsia", vertente: "Darkpsy", subvertentes: "Hitech, Darkpsy, Core", status: "Ativo", lat: 35.059651, lon: 135.213746},
            {nome: "Forest Soul Gathering", pais: "Portugal", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Forest, Darkpsy, Night", status: "Ativo", lat: 41.732198, lon: -7.831288},
            {nome: "Trance Odissey", pais: "Portugal", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 39.249052, lon: -8.811818},
            {nome: "Mumush Festival", pais: "Rom√™nia", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 46.492779, lon: 24.803299},
            {nome: "Mimosa Festival", pais: "Chile", continente: "Am√©rica do Sul", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -33.51225, lon: -70.906146},
            {nome: "Grooven Bass Festival", pais: "Canad√°", continente: "Am√©rica do Norte", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 48.375358, lon: -74.014819},
            {nome: "Kali Mela", pais: "√çndia", continente: "√Åsia", vertente: "Darkpsy", subvertentes: "Hitech, Darkpsy, Core", status: "Ativo", lat: 32.063376, lon: 76.983855},
            {nome: "Ozora Festival", pais: "Hungria", continente: "Europa", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: 46.779312, lon: 18.410091},
            {nome: "Rainbow", pais: "Austr√°lia", continente: "Oceania", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Inativo", lat: -32.276796, lon: 145.374314},
            {nome: "Universal Frequencies", pais: "Austr√°lia", continente: "Oceania", vertente: "Psytrance - multig√™nero", subvertentes: "Full on, Prog, Night, Forest", status: "Ativo", lat: -31.979072, lon: 121.995408}
        ];

        // Cores para cada subvertente
        const subvertenteColors = {
            'Full on': '#FF6B6B',
            'Prog': '#4ECDC4', 
            'Forest': '#96CEB4',
            'Darkpsy': '#6A0DAD',
            'Core': '#FFEAA7',
            'Hitech': '#FFA500',
            'Night': '#2C3E50',
            'Goa': '#E74C3C'
        };

        // Fun√ß√£o para determinar a subvertente principal
        function getMainSubvertente(subvertentes) {
            const subvertenteList = subvertentes.split(', ').map(s => s.trim());
            
            // Procura por qualquer subvertente que exista no objeto de cores
            for (let sub of subvertenteList) {
                if (subvertenteColors[sub]) {
                    return sub;
                }
            }
            
            // Se n√£o encontrar, retorna a primeira subvertente da lista
            return subvertenteList[0] || 'Full on';
        }

        // Fun√ß√£o para criar marcadores tradicionais com cores SEM BORDAS
        function createFestivalIcon(subvertentes) {
            const mainSubvertente = getMainSubvertente(subvertentes);
            const color = subvertenteColors[mainSubvertente] || '#95A5A6';
            const className = mainSubvertente.toLowerCase().replace(' ', '-') + '-marker';
            
            return L.divIcon({
                className: `custom-marker ${className}`,
                html: `
                    <div style="
                        width: 12px;
                        height: 12px;
                        background-color: ${color};
                        border-radius: 50%;
                        box-shadow: 0 2px 6px rgba(0,0,0,0.3);
                    "></div>
                `,
                iconSize: [12, 12],
                iconAnchor: [6, 6],
                popupAnchor: [0, -6]
            });
        }

        // Sistema de cores para continentes (mantido para o popup)
        function getColorByContinent(continente) {
            const colors = {
                'Am√©rica do Sul': '#FF6B6B', 
                'Am√©rica do Norte': '#4ECDC4', 
                'Am√©rica Central': '#45B7D1',
                'Europa': '#96CEB4', 
                '√Åsia': '#FFEAA7', 
                '√Åfrica': '#DDA0DD', 
                'Oceania': '#98D8C8'
            };
            return colors[continente] || '#CCCCCC';
        }

        // Fun√ß√£o para criar popup personalizado
        function createFestivalPopup(festival) {
            const isActive = festival.status === 'Ativo';
            
            return `
                <div class="festival-popup">
                    <div class="popup-header" style="background: linear-gradient(135deg, var(--primary), var(--accent));">
                        <h3>${festival.nome}</h3>
                        <div class="status-badge ${isActive ? 'status-active' : 'status-inactive'}">
                            ${festival.status}
                        </div>
                    </div>
                    
                    <div class="popup-content">
                        <div class="festival-info">
                            <div class="info-item">
                                <div class="info-icon">üìç</div>
                                <div class="info-text">
                                    <strong>Pa√≠s:</strong> ${festival.pais}<br>
                                    <strong>Continente:</strong> ${festival.continente}
                                </div>
                            </div>
                            
                            <div class="info-item">
                                <div class="info-icon">üéµ</div>
                                <div class="info-text">
                                    <strong>Vertente:</strong> ${festival.vertente}<br>
                                    <strong>Subg√™neros:</strong> ${festival.subvertentes}
                                </div>
                            </div>
                            
                            <div class="info-item">
                                <div class="info-icon">üìÖ</div>
                                <div class="info-text">
                                    <strong>Pr√≥xima edi√ß√£o:</strong> A definir<br>
                                    <strong>Temporada:</strong> Ver√£o 2024
                                </div>
                            </div>
                        </div>
                        
                        <div class="flyer-section">
                            <h4>üé™ Flyer do Festival</h4>
                            <div class="flyer-placeholder">
                                <div>
                                    <div style="font-size: 2rem; margin-bottom: 10px;">üñºÔ∏è</div>
                                    <div>Espa√ßo para flyer</div>
                                    <div style="font-size: 0.8rem; opacity: 0.7; margin-top: 5px;">
                                        (Em breve)
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Inicializar mapa
        const map = L.map('interactive-map', {
            zoomControl: true,
            preferCanvas: true
        }).setView([20, 0], 2);

        // Mapa base ESRI World Imagery (Sat√©lite)
        const esriSatellite = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
            attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community',
            maxZoom: 20
        });

        // Mapa base OpenStreetMap (Padr√£o)
        const osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '¬© OpenStreetMap contributors',
            maxZoom: 20
        });

        // Mapa base Google Maps estilo
        const googleHybrid = L.tileLayer('https://mt1.google.com/vt/lyrs=y&x={x}&y={y}&z={z}', {
            attribution: '¬© Google',
            maxZoom: 20
        });

        // Adicionar o mapa base padr√£o (ESRI Satellite)
        esriSatellite.addTo(map);

        // Adicionar controle de camadas
        const baseMaps = {
            "Sat√©lite (ESRI)": esriSatellite,
            "OpenStreetMap": osm,
            "Google H√≠brido": googleHybrid
        };
        
        L.control.layers(baseMaps).addTo(map);

        // Adicionar controles
        L.control.zoom({
            position: 'topright'
        }).addTo(map);

        // Adicionar marcadores ao mapa
        let allMarkers = [];
        let markerCluster = null;

        function addMarkersToMap(festivals) {
            // Limpar marcadores existentes
            if (markerCluster) {
                map.removeLayer(markerCluster);
            }
            
            allMarkers = [];

            festivals.forEach(festival => {
                const icon = createFestivalIcon(festival.subvertentes);
                const marker = L.marker([festival.lat, festival.lon], { icon });
                
                // Popup personalizado
                const popupContent = createFestivalPopup(festival);
                marker.bindPopup(popupContent, {
                    maxWidth: 400,
                    className: 'custom-popup'
                });

                allMarkers.push(marker);
            });

            // Usar clustering para melhor performance
            markerCluster = L.layerGroup(allMarkers).addTo(map);
        }

        // Resto do c√≥digo (filtros, estat√≠sticas, etc.) permanece igual
        let currentFilters = { continente: 'all', subvertente: 'all', status: 'all', search: '' };

        function filterFestivals() {
            return festivalsData.filter(festival => {
                if (currentFilters.continente !== 'all' && festival.continente !== currentFilters.continente) return false;
                if (currentFilters.subvertente !== 'all' && !festival.subvertentes.includes(currentFilters.subvertente)) return false;
                if (currentFilters.status !== 'all' && festival.status !== currentFilters.status) return false;
                if (currentFilters.search && !festival.nome.toLowerCase().includes(currentFilters.search.toLowerCase())) return false;
                return true;
            });
        }

        function applyFilters() {
            const filteredFestivals = filterFestivals();
            addMarkersToMap(filteredFestivals);
            updateStats(filteredFestivals);
        }

        function updateStats(festivals) {
            document.getElementById('total-festivals').textContent = festivals.length;
            document.getElementById('active-festivals').textContent = festivals.filter(f => f.status === 'Ativo').length;
            document.getElementById('countries-count').textContent = [...new Set(festivals.map(f => f.pais))].length;
            document.getElementById('continents-count').textContent = [...new Set(festivals.map(f => f.continente))].length;
        }

        // Inicializar filtros
        function initializeFilters() {
            // Continentes
            const continents = [...new Set(festivalsData.map(f => f.continente))];
            const continentFilters = document.getElementById('continent-filters');
            continentFilters.innerHTML = '<button class="filter-btn active" data-continent="all">Todos</button>';
            continents.forEach(continent => {
                const btn = document.createElement('button');
                btn.className = 'filter-btn';
                btn.textContent = continent;
                btn.setAttribute('data-continent', continent);
                continentFilters.appendChild(btn);
            });

            // Subvertentes
            const allSubvertentes = festivalsData.flatMap(f => f.subvertentes.split(', ').map(s => s.trim()));
            const uniqueSubvertentes = [...new Set(allSubvertentes)].filter(s => s);
            const genreFilters = document.getElementById('genre-filters');
            genreFilters.innerHTML = '<button class="filter-btn active" data-subvertente="all">Todos</button>';
            uniqueSubvertentes.forEach(subvertente => {
                const btn = document.createElement('button');
                btn.className = 'filter-btn';
                btn.textContent = subvertente;
                btn.setAttribute('data-subvertente', subvertente);
                genreFilters.appendChild(btn);
            });

            // Event listeners
            document.querySelectorAll('.filter-options').forEach(container => {
                container.addEventListener('click', (e) => {
                    if (e.target.classList.contains('filter-btn')) {
                        container.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
                        e.target.classList.add('active');
                        if (e.target.hasAttribute('data-continent')) {
                            currentFilters.continente = e.target.getAttribute('data-continent');
                        } else if (e.target.hasAttribute('data-subvertente')) {
                            currentFilters.subvertente = e.target.getAttribute('data-subvertente');
                        } else if (e.target.hasAttribute('data-status')) {
                            currentFilters.status = e.target.getAttribute('data-status');
                        }
                        applyFilters();
                    }
                });
            });

            document.getElementById('search-input').addEventListener('input', (e) => {
                currentFilters.search = e.target.value;
                applyFilters();
            });

            document.getElementById('reset-filters').addEventListener('click', () => {
                currentFilters = { continente: 'all', subvertente: 'all', status: 'all', search: '' };
                document.getElementById('search-input').value = '';
                document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
                document.querySelectorAll('.filter-options').forEach(container => {
                    container.querySelector('[data-continent="all"], [data-subvertente="all"], [data-status="all"]').classList.add('active');
                });
                applyFilters();
            });
        }

        // Inicializar
        function initializeMap() {
            addMarkersToMap(festivalsData);
            updateStats(festivalsData);
            initializeFilters();
        }

        // Iniciar
        document.addEventListener('DOMContentLoaded', function() {
            initializeMap();
        });
    </script>
</body>
</html>
